<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Compteur Google Sheet</title>
</head>
<body>
  <h1>Compteur</h1>
  <p id="counter">Chargement...</p>
  <button id="increment">+1</button>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbzicsE9mDtEO5p3nV1R8RYCWkR6621LSHdL0ZZaptSxX0xbBlbhb_QAOgicB1XNi4KSAA/exec"; // remplace par l'URL du déploiement

    async function loadValue() {
      const res = await fetch(API_URL);
      const value = await res.text();
      document.getElementById("counter").textContent = value;
    }

    async function incrementValue() {
      const res = await fetch(API_URL, { method: "POST" });
      const value = await res.text();
      document.getElementById("counter").textContent = value;
    }

    document.getElementById("increment").addEventListener("click", incrementValue);

    // Charger la valeur au démarrage
    loadValue();
  </script>
</body>
</html>
